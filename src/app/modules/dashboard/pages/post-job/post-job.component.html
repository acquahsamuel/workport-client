<section class="container">
  <h3 class="heading-main">Create new application</h3>
  <div class="main-left">
    <form [formGroup]="postJobForm" class="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for=""> Job Title / Postion </label>
        <input
          class="form-input"
          formControlName="position"
          type="text"
          name="position"
          placeholder="eg. senior software engineer"
          [ngClass]="{
            'is-invalid': submitted && getControls.position.errors
          }"
        />
        <div
          *ngIf="submitted && getControls.position.errors"
          class="invalid-feedback"
        >
          <div *ngIf="getControls.position.errors.required">
            Example: "Principal Software Engineer‚Äù. Titles must describe one
            position.
          </div>
        </div>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Locations Allowed</mat-label>
          <mat-select>
            <mat-option
              *ngFor="let locationsAllowed of countriesAllowed"
              [value]="locationsAllowed"
            >
              {{ locationsAllowed.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- <label for="">Select Category </label> -->
      <mat-form-field appearance="outline">
        <mat-label> Select Category </mat-label>
        <mat-select>
          <mat-option
            *ngFor="let jobCategory of categoriesList"
            [value]="jobCategory"
          >
            {{ jobCategory.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div class="form-group">
        <label for="">Tags job could be searched with</label>
        <input
          class="form-input"
          formControlName="jobTags"
          type="email"
          name="jobTags"
          placeholder="eg. nodejs"
          [ngClass]="{
            'is-invalid': submitted && getControls.jobTags.errors
          }"
        />
        <div
          *ngIf="submitted && getControls.jobTags.errors"
          class="invalid-feedback"
        >
          <div *ngIf="getControls.jobTags.errors.required">
            Example: "Software engineer, node, javascript "
          </div>
        </div>
      </div>

      <div class="form-group">
        <mat-card-header>
          <p>Job Description</p>
        </mat-card-header>

        <mat-card-content>
          <editor
            apiKey="96v08iycybbz8rffjogkkarvz1pkcf7s6skp266n2taioplo"
            [init]="{
              height: 200,
              menubar: false,
              plugins: [
                'advlist autolink lists link image charmap  preview anchor',
                'searchreplace visualblocks code fullscreen',
                'insertdatetime media table paste code help wordcount'
              ],
              toolbar:
                'undo redo | formatselect | bold italic | \
            alignleft aligncenter alignright alignjustify | \
            bullist numlist '
            }"
            formControlName="jobDescription"
            name="jobDescription"
            [ngClass]="{
              'is-invalid': submitted && getControls.jobDescription.errors
            }"
          ></editor>
        </mat-card-content>
        <div
          *ngIf="submitted && getControls.jobDescription.errors"
          class="invalid-feedback"
        >
          <div *ngIf="getControls.jobDescription.errors.required">
            Please add job description
          </div>
        </div>
      </div>

      <p>Tell us More about your Company</p>
      <div class="form-group">
        <label for="">Company Name</label>
        <input
          class="form-input"
          name="companyName"
          formControlName="companyName"
          type="text"
          placeholder="eg. company inc"
          [ngClass]="{
            'is-invalid': submitted && getControls.companyName.errors
          }"
        />
        <div
          *ngIf="submitted && getControls.jobDescription.errors"
          class="invalid-feedback"
        >
          <div *ngIf="getControls.jobDescription.errors.required">
            Please add a company
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="">Company Website</label>
        <input
          class="form-input"
          name="companyUrl"
          formControlName="companyUrl"
          type="url"
          placeholder="https://www.companywebsite.com"
        />
      </div>

      <div class="form-group">
        <label for="">Company Size</label>
        <input
          class="form-input"
          name="companySize"
          formControlName="companySize"
          type="email"
          placeholder="0-10"
        />
      </div>

      <div class="form-group">
        <label for="">Upload logo</label> <br />
        <input
          type="file"
          name="companyLogo"
          formControlName="companyLogo"
          id=""
        />
      </div>

      <div class="form-group">
        <label for="">Company Twitter</label>
        <input
          class="form-input"
          name="companyTwitter"
          formControlName="companyTwitter"
          type="url"
          placeholder="https://www.companywebsite.com"
        />
      </div>

      <div class="form-group">
        <label for="">Company LinkedIn</label>
        <input
          class="form-input"
          name="companyLinkedin"
          formControlName="companyLinkedin"
          type="url"
          placeholder="https://www.companylinkedin.com"
        />
      </div>

      <div class="form-group">
        <label for="">Company Email</label>
        <input
          class="form-input"
          name="companyEmail"
          formControlName="companyEmail"
          type="email"
          placeholder="companyemail@gmail.com"
        />
      </div>

      <div class="">
        <button class="btn btn-default">Post job</button>
      </div>
    </form>
  </div>
</section>

<!-- <div>Form Content : {{ postJobForm.value | json }}</div> -->
<!-- <div>Form is valid : {{ postJobForm.valid | json }}</div> -->
<!-- <div>Error around name : {{ postJobForm.controls.name.errors | json }}</div>  -->
